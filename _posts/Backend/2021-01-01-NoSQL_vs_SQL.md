---
title: NoSQL vs SQL
categories: [Backend]
comments: true
---

# NoSQL vs SQL

두번 째 Gombang 프로젝트를 시작하면서, 백엔드 부분에 참여하게 되었고, 선택의 기로에 놓이게 되어 기초 이론을 상기하며 비교해 보았다. 확장이 쉽고, 문서 지향적이며, 유동적인 스키마를 설계할 수 있는 장점이 있는 NoSQL( MongoDB와 mongoose)를 사용하여 연습을 시작해보려고 하였으나, 학교 과목에서 경험이 있었던 SQL(MySQL)로 프로젝트를 진행해보면서 시간이 된다면 다음 프로젝트에서 NoSQL을 접해 보도록 하겠다.

## SQL

- Structured Query Language
- 관계형 데이터베이스 관리 시스템(RDBMS)의 데이터를 관리하기 위해 설계된 특수 목적의 프로그래밍 `언어`

## 스키마

- 스키마는 데이터베이스의 구조와 제약조건에 관해 전반적인 `명세`를 기술한 것이다.
  - 개체의 특징을 나타내는 `속성(attribute)`, 속성들의 집합으로 이루어진 `개체(entity)`,개체 간 존재하는 `관계(relationship)`에 대한 정의와 이들이 유지해야할 제약조건들을 기술한 것이다.
- 사용자 관점에 따라 외부, 내부, 개념 스키마로 나뉜다.
  - 개념 스키마 : 데이터 베이스의 전체적인 논리적 구조
  - 내부 스키마 : 데이터 베이스의 물리적 저장구조
  - 외부 스키마 : 사용자에게 보여지는 스키마 (서브 스키마라고도 한다.)

# SQL vs NoSQL

## SQL

1. 스키마 - strict schema

- `table`에 데이터 저장
- 데이터를 저장하기 위해 `스키마가 먼저 정의`되어야 한다.

2. 관계 - Relational Database

- 각 테이블간의 `관계`를 통해 데이터를 파악할 수 있다.
- 데이터 `중복 없이` 저장 가능
- 전체 데이터 하나만 관리(정확성 높음)

3. 데이터 확장 - Vertical Scaling

- `수직적`으로 확장
- CPU나 RAM 같은 부품을 업그레이드 하거나, `하드웨어`를 추가하여 서버의 성능을 향상

4. 특성 - ACIC properties

- DB의 트랜잭션(transaction)이 안전하게 수행된다는 것을 보장하기 위한 특징

→ 트랜잭션 : 여러 작업들을 하나로 묶은 단위(묶인 작업들은 모두 실행되거나, 실행되지 않음)

- Atomicity(원자성): 트랜잭션의 작업이 부분적으로 실행되거나 중단되지 않는 것을 보장

(불가능한 최소의 단위인 하나의 원자처럼 동작)

- Consistency(일관성): 미리 정의된 규칙에서만 수정이 가능한 특성

(숫자 컬럼에 문자열값이 저장이 안되도록 보장)

- Isolation(고립성): 트랜잭션 수행시 다른 트랜잭션의 작업이 끼어들지 못하도록 보장
- Durability(영구성): 성공적으로 수행된 트랜잭션은 영원히 반영

(한번 반영(commit)된 트랜젝션의 내용은 영원히 적용)

## NoSQL

1. 스키마 - no schema

- `document`에 데이터 저장, `JSON` 혹은 `객체` 형태인 key-value로 데이터 저장
- 스키마를 정의하지 않아도 된다.
- Documents → Collections → Database

2. 관계 - Non relational Database

- 관계 개념이 없고 `Collection`별로 `중복`된 데이터 존재
- 중복된 데이터는 삭제하거나 업데이트할 때 반영이 되지 않을 수 있어 유의

3. 데이터 확장 - Horizontal Scaling

- 더 많은 서버를 추가해서 서버를 전체적으로 `분산`

4. 특성 - CAP theorem

- Consistency (일관성): 모든 요청은 최신 데이터 또는 에러를 응답받음

(DB가 3개로 분산되었다고 가정할 때, 하나의 특정 DB의 데이터가 수정되면나머지 2개의 DB에서도 수정된 데이터를 응답받아야 함)

- Availability (가용성): 모든 요청은 정상 응답을 받음

(특정 DB가 장애가 나도 서비스가 가능해야 함)

- Partitions Tolerance (분리 내구성): DB간 통신이 실패하는 경우라도 시스템은 정상 동작
